@model IEnumerable<Story>

@{
    ViewData["Title"] = "Index";
}

<h1>All Stories</h1>
<p>
    <a asp-action="Create">Create New</a>
</p>
<hr />

<div>
    @foreach (Story story in Model)
    {
        @if (story.Author != null)
        {
            <h5>
                <a class="text-dark font-weight-bold" asp-controller="Chapters" asp-action="Index"
                    asp-route-id="@story.Id">@Html.DisplayFor(modelItem => story.Title)</a> (Author: <a 
                    class="text-dark font-weight-bold" asp-controller="Users" asp-action="Details"
                    asp-route-id="@story.Author.Id"> @Html.DisplayFor(modelItem => story.Author.UserName)</a>)
            </h5>
        }
        else
        {
            <h5>
                <a class="text-dark font-weight-bold" asp-controller="Chapters" asp-action="Index"
                    asp-route-id="@story.Id">@Html.DisplayFor(modelItem => story.Title)</a> (Unknown Author)
            </h5>
        }

        <div>Fandom: <a class="text-dark font-weight-bold" asp-controller="Fandoms" asp-action="Index" 
            asp-route-id="@story.StoryFandom.Id">@story.StoryFandom.Name</a></div>
        <div>Chapters: @story.Chapters.Count() (In Process)</div>
        <div>Posted: @story.PostDate, Updated: @story.LastUpdateDate</div>
        <br />
        <h6 class="font-weight-bold">Description: </h6>
        <p class="col-md-6">@story.Description</p>
        <hr />
    }
</div>